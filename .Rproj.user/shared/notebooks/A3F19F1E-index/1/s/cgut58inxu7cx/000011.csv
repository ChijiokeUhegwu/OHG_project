"0",""
"0","coverage_df <- tibble("
"0","  country = c(""Argentina"",""Brazil"",""New Zealand"",""China"",""France"","
"0","              ""Germany"",""Nigeria"",""United Kingdom"",""United States""),"
"0","  isolates = c(4, 6, 10, 20, 5, 5, 20, 10, 20)"
"0",")"
"0",""
"0","# Generate 9 distinct colors"
"0","country_colors <- brewer.pal(9, ""Set1"")"
"0",""
"0","coverage_map_plotly <- plot_geo()"
"0",""
"0","for (i in seq_len(nrow(coverage_df))) {"
"0","  "
"0","  coverage_map_plotly <- coverage_map_plotly %>%"
"0","    add_trace("
"0","      data = coverage_df[i, ],"
"0","      locations = ~country,"
"0","      locationmode = ""country names"","
"0","      z = 1,"
"0","      type = ""choropleth"","
"0","      name = coverage_df$country[i],  # This creates legend entry"
"0","      colorscale = list(c(0, country_colors[i]), "
"0","                        c(1, country_colors[i])),"
"0","      showscale = FALSE,"
"0","      hovertemplate = paste0("
"0","        ""<b>"", coverage_df$country[i], ""</b><br>"","
"0","        ""Isolates: "", coverage_df$isolates[i],"
"0","        ""<extra></extra>"""
"0","      )"
"0","    )"
"0","}"
"0",""
"0","coverage_map_plotly <- coverage_map_plotly %>%"
"0","  layout("
"0","    geo = list("
"0","      showframe = FALSE,"
"0","      showcoastlines = TRUE,"
"0","      projection = list(type = ""equirectangular"")"
"0","    ),"
"0","    legend = list(title = list(text = ""<b>Countries</b>"")),"
"0","    margin = list(l = 0, r = 0, t = 50, b = 0)"
"0","  )"
"0",""
"0","coverage_map_plotly"
